<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="productManipulationMapper">
	
	<resultMap id="resultMyProduct" type="Product">
		<id property="product_no" column="product_no" />
		<result property="product_name" column="product_name" />
		<result property="price" column="price" />
		<result property="product_quantity" column="product_quantity" />
		<result property="product_content" column="product_content" />
		<result property="progress" column="progress" />
		<result property="product_startdate" column="product_startdate" />
		<result property="product_enddate" column="product_enddate" />
		<result property="weekend_yn" column="weekend_yn" />
		<result property="weekday_yn" column="weekday_yn" />
		<result property="product_date" column="product_date" />
		<result property="product_modifydate" column="product_modifydate" />
		<result property="delete_yn" column="delete_yn" />
		<result property="category_code" column="category_code" />
		<result property="seller_id" column="seller_id" />
		<result property="img_no" column="img_no" />
	</resultMap>
	
	<insert id="insertProduct" parameterType="Product" useGeneratedKeys="true">
	insert into product values(SQ_PDNO.nextval, #{product_name}, #{price}, #{product_quantity}, #{product_content}, default, #{product_startdate}, #{product_enddate}, #{weekend_yn}, #{weekday_yn}, sysdate, sysdate, default, #{category_code}, #{seller_id}, #{img_no})
	
	</insert>
	
	<select id="selectProductCount" resultType="int" parameterType="string">
		select count(*) from product where seller_id = #{userId} and DELETE_YN = 'N' 
	</select>
	
	<select id="seleteMyProductList" resultMap="resultMyProduct" parameterType="hashmap">
		<![CDATA[
		SELECT *
        FROM product
        WHERE DELETE_YN = 'N' and rownum  >= #{pageStart} and rownum <= #{perPageNum} and seller_id = #{seller_id}
        ORDER BY product_no DESC
        ]]>
	</select>
	<!-- <select id="seleteMyProductList" resultMap="resultMyProduct" parameterType="string">
		select * from product where seller_id = #{userId}
	</select> -->
	<!-- <update id="updateProduct" parameterType="Product">
		update member set userpwd = #{userpwd}, age = #{age}, email = #{email}, phone = #{phone}, etc = #{etc}, 
				 hobby = #{hobby} where userid = #{userid}
	</update>
	<delete id="deleteProduct" parameterType="string">
		delete from member where userid = #{userid}
	</delete>	 -->
</mapper>
